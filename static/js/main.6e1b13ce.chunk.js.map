{"version":3,"sources":["SommairePanier.jsx","Entete.jsx","Pied2Page.jsx","BtnAjoutPanier.jsx","Produit.jsx","ListeProduits.jsx","Accueil.jsx","Apropos.jsx","Contact.jsx","Page.jsx","hooks/useLocalStorageState.js","index.jsx"],"names":["SommairePanier","cacher","etatPanier","panier","infoPanier","pan","info","articles","Object","values","nbArticles","length","qteArticles","reduce","valInit","valCourante","qte","sousTotal","accumulateur","articleCourant","prix","st","toFixed","tps","tvq","total","retournerInfoPanier","className","Entete","props","useState","cacheSommaire","setCacheSommaire","to","Badge","onClick","badgeContent","eltCourant","color","Pied2Page","annee","Date","getFullYear","BtnAjoutPanier","couleur","texte","Produit","id","nom","setPanier","btnTexte","btnQte","btnCouleurCls","src","alt","JSON","parse","stringify","ListeProduits","tabProduits","map","prd","Accueil","Apropos","Contact","Page","valeurInitial","ettiquetteLS","window","localStorage","getItem","etat","setEtat","useEffect","setItem","useLocalStorageState","path","component","exact","location","href","search","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.6e1b13ce.chunk.js","sourcesContent":["import './SommairePanier.scss';\n\nexport default function SommairePanier({cacher, etatPanier}) {\n  //console.log(\"Etat du panier dans SommairePanier : \", props.etatPanier);\n  const [panier, setPanier] = etatPanier;\n  const infoPanier = retournerInfoPanier(panier);\n  return (\n    <div className={'SommairePanier' + (cacher?' cacher':'')}>\n      <span className=\"nbArticles\">Articles différents : {infoPanier.nbArticles}</span>\n      <span className=\"qteArticles\">Articles total : {infoPanier.qteArticles}</span>\n      <span className=\"sousTotal\">Sous-total : {infoPanier.st}</span>\n      <span className=\"tps\">TPS : {infoPanier.tps}</span>\n      <span className=\"tvq\">TVQ : {infoPanier.tvq}</span>\n      <span className=\"total\">Total : {infoPanier.total}</span>\n    </div>\n  );\n}\n\nfunction retournerInfoPanier(pan) {\n  let info = {}; // {nbArticles: 2, qteArticles: 18, sousTotal: 1234.87,}\n\n  // Sortir les articles et les mettre dans un tableau\n  let articles = Object.values(pan);\n\n  // Nombre d'articles différents\n  info.nbArticles = articles.length;\n\n  // Quantité d'articles totale\n  // Première façon :\n  // let qteTotale = 0;\n  // for(let i=0; i<articles.length; i++) {\n  //   qteTotale += articles[i].qte;\n  // }\n  // info.qteArticles = qteTotale;\n\n  // Meilleure façon :\n  info.qteArticles = articles.reduce(function(valInit, valCourante) {\n    return valCourante.qte + valInit;\n  }, 0);\n\n  // Sous-total\n  let sousTotal = articles.reduce((accumulateur, articleCourant) => articleCourant.prix*articleCourant.qte + accumulateur, 0);\n  info.st = sousTotal.toFixed(2);\n\n  // TPS \n  let tps = sousTotal * 0.05;\n  info.tps = tps.toFixed(2);\n\n  let tvq = sousTotal * 0.09975;\n  info.tvq = tvq.toFixed(2);\n\n  info.total = (sousTotal + tps + tvq).toFixed(2);\n\n  return info;\n}","import './Entete.scss';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport Badge from '@material-ui/core/Badge';\nimport SommairePanier from './SommairePanier';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default function Entete(props) {\n  const [cacheSommaire, setCacheSommaire] = useState(true);\n  \n  \n  const basculerSommairePanier =  () => setCacheSommaire(!cacheSommaire);\n\n  \n  const [panier] = props.etatPanier;\n\n  return (\n    <header className=\"Entete\"> \n      <div><Link to=\"/\">Logo</Link></div>\n      <ul className=\"navPrincipale\">\n        <li><Link to=\"/nos-produits\">Produits</Link></li>\n        <li><Link to=\"/a-propos-de-magasin\">A propos de nous</Link></li>\n        <li><Link to=\"/contact\">Contactez-nous</Link></li>\n      </ul>\n      <ul className=\"navUtil\">\n        <li>\n          <Badge onClick={basculerSommairePanier} badgeContent={Object.values(panier).reduce( (accumulateur, eltCourant)  => accumulateur + eltCourant.qte, 0)} color=\"primary\">\n            <ShoppingCartIcon />\n          </Badge>\n          <SommairePanier cacher={cacheSommaire} etatPanier={props.etatPanier} />\n        </li>\n        <li>Mon compte</li>\n      </ul>\n    </header>\n  );\n}\n","import './Pied2Page.scss';\n\nexport default function Pied2Page(props) {\n    // Obtenir l'année courante\n    const annee = (new Date()).getFullYear();\n\n    return (\n        <footer>\n            &copy; {annee}\n        </footer>\n    );\n}","import \"./BtnAjoutPanier.scss\";\nimport Badge from \"@material-ui/core/Badge\";\nimport { useState } from \"react\";\n\nexport default function BtnAjoutPanier(props) {\n\n  return (\n    <Badge badgeContent={props.qte} color=\"secondary\">\n      <button\n        onClick={props.onClick} \n        className={'BtnAjoutPanier' + (props.couleur)}\n      >\n        {props.texte}\n      </button>\n    </Badge>\n  );\n}\n","import BtnAjoutPanier from './BtnAjoutPanier';\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\nimport './Produit.scss';\n\nexport default function Produit({etatPanier, id, nom, prix}) {\n    //console.log(\"Panier dans Produit : \", etatPanier);\n    const [panier, setPanier] = etatPanier;\n\n    /**\n     * Ajoute l'article au panier\n     */\n    function ajouterArticle() {\n        if(panier[id]) {\n            setPanier();\n            panier[id].qte++;\n        }\n        else {\n            panier[id] = {prix: prix, qte: 1}\n        }\n        // Maintenant il faut changer l'état du panier avec setPanier\n        // Il faut passer à setPanier un NOUVEL objet (obtenu par clonage)\n        setPanier(JSON.parse(JSON.stringify(panier))); // {...panier} // Spread operator\n        //const nouveauPanier = Object.assign({}, panier);\n        //setPanier(nouveauPanier); \n        //console.log(\"Clone obtenu avec assign() : \", nouveauPanier);\n    }\n    let btnTexte = \"Ajouter au panier\";\n    let btnQte = 0;\n    let btnCouleurCls = \"\";\n    if (panier[id]) {\n        btnTexte = <AddCircleOutlineIcon/>;\n        btnQte = panier[id].qte;\n        btnCouleurCls = \"rouge\";\n    }\n\n    return (\n        <li className=\"Produit\">\n            <div className=\"image\">\n                <img src={'images-produits/' + id + '.webp'} alt={nom}/>\n            </div>\n            <div className=\"info\">\n                <h3>{nom}</h3>\n                <p className=\"prix\">{prix} $CA</p>\n                <BtnAjoutPanier onClick={ajouterArticle} texte={btnTexte} qte={btnQte} couleur={btnCouleurCls} />\n            </div>\n        </li>\n    );\n}","import \"./ListeProduits.scss\";\nimport Produit from \"./Produit\";\nimport tabProduits from \"./data/produits.json\";\n\nfunction ListeProduits(props) {\n  //console.log(\"Panier dans ListeProduits\", props.etatPanier);\n  return (\n    <div className=\"ListeProduits\">\n      <h2>Produits disponibles</h2>\n      <ul>\n        {tabProduits.map((prd) => (\n          <Produit\n            key={prd.id}\n            etatPanier={props.etatPanier}\n            id={prd.id}\n            nom={prd.nom}\n            prix={prd.prix}\n          />\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default ListeProduits;\n","export default function Accueil(props) {\n\n  return (\n  <div className=\"Accueil\">\n    <h2>Magasin</h2>\n    <p>Page d'accueil en constrution</p>\n  </div>\n  );\n}\n","export default function Apropos(props) {\n\n  return (\n  <div className=\"Apropos\">\n    <h2>À propos</h2>\n    <p>Page à propos </p>\n  </div>\n  );\n}\n","export default function Contact(props) {\n\n  return (\n  <div className=\"Contact\">\n    <h2>Contactez-nous</h2>\n    <p>Page contact </p>\n  </div>\n  );\n}\n","import './Page.scss';\nimport Entete from './Entete';\nimport Pied2Page from './Pied2Page';\nimport ListeProduits from './ListeProduits';\nimport useLocalStorageState from './hooks/useLocalStorageState';\nimport { Switch, Route } from 'react-router-dom';\nimport Accueil from './Accueil';\nimport Apropos from './Apropos';\nimport Contact from './Contact';\n\nexport default function Page() {\n/*  // Exemple de comment je vais stocker les articles dans le panier\n  // const bonPanier = ({\n  //   prd0001: {prix: 10.99, qte: 2},\n  //   prd0005: {prix: 24.95, qte: 1}\n  // })\n\n  const etatPanier = useState(() => {\n    const panierLS = window.localStorage.getItem('panier-pvt-gr1');\n    return (panierLS !== null) ? JSON.parse(panierLS) : {};\n  }); \n  //useReducer{}\n  const [panier, setPanier] = etatPanier;\n\n  // Sauvegarder le panier dans localStorage\n  // Comme ce code est un effet secondaire de votre composant\n  // (qui doit être exécuté à chaque mutation du panier) la bonne façon de \n  // le coder en respectant la manière React est d'utiliser un hook spécialisé \"useEffect\"\n  useEffect(() => {\n    window.localStorage.setItem('panier-pvt-gr1', JSON.stringify(panier))\n  }, [panier]);*/\n  const etatPanier = useLocalStorageState({}, \"panier-achat\")\n  \n\n  return (\n    <div className=\"Page\">\n      <Entete etatPanier={etatPanier} />\n      <section className=\"contenuPrincipal\">\n        <Switch>\n          <Route path=\"/\" component={Accueil} exact />\n          <Route path=\"/nos-produits\" exact >\n            <ListeProduits etatPanier={etatPanier} />\n          </Route> \n          <Route path=\"/a-propos-de-magasin\" exact >\n            <Apropos />\n          </Route>\n          <Route path=\"/contact\"  exact >\n            <Contact />\n          </Route>\n        </Switch>\n      </section>\n      <Pied2Page />\n    </div>\n  );\n}","import { useEffect, useState } from 'react';\r\n/**\r\n * Obtient un etat REACT qui sera sauvegarder dans le localStorage\r\n * \r\n * @param {*} valeurInitial valeur quelconque avec laquelle on veut initialiser l'état\r\n * @param {string} ettiquetteLS chaîne de caractère pour l'étiquette localStorage\r\n * \r\n * @returns {array} tableau retourné par useState\r\n */\r\nexport default function useLocalStorageState(valeurInitial, ettiquetteLS) {\r\n    const [etat,  setEtat] = useState(\r\n         () => JSON.parse(window.localStorage.getItem(ettiquetteLS)) || valeurInitial\r\n    );\r\n\r\n    useEffect(\r\n        () => window.localStorage.setItem(ettiquetteLS, JSON.stringify(etat)),\r\n         [etat, ettiquetteLS]\r\n    );\r\n\r\n    // Retourner l'état\r\n    return [etat, setEtat];\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.scss';\nimport Page from './Page';\n\nconst basename = (window.location.href.search(/github\\.io/i) !== -1) ? \"/panier-achats\" : \"\";\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/panier-achats\">\n    <Page />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('racine')\n);\n"],"sourceRoot":""}